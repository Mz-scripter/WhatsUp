{% extends "base.html" %}

{% block title %}Rename Chat Room{% endblock %}

{% block content %}
    <div id="rename-group-page" class="page active">
        <header class="chat-header">
            <div class="chat-header-left">
                <a href="{{ request.session.previous_page }}" class="chat-link">
                    <button id="back-to-settings" class="back-button">
                        <i class="fas fa-arrow-left"></i>
                    </button>  
                </a>
                <div class="chat-info">
                    <h2>Rename {{ chat_room.name }}</h2>
                </div>
            </div>
        </header>
        <div class="rename-group-container">
            <form method="POST" class="group-info-form">
                {% csrf_token %}
                <div class="group-icon-preview">
                    <i class="fas fa-users"></i>
                </div>
                <input type="text" id="new-group-name" placeholder="New Group Name" name="new_name" required>
                <button type="submit" id="rename-group-submit" class="action-button" disabled>Rename Group</button>
            </form>
        </div>
    </div>

    <script>
        const newGroupNameInput = document.getElementById('new-group-name');
        const renameGroupSubmit = document.getElementById('rename-group-submit');

        newGroupNameInput.addEventListener('input', () => {
            if (newGroupNameInput.value.length > 0) {
                renameGroupSubmit.disabled = false;
            } else {
                renameGroupSubmit.disabled = true;
            }
        });
    </script>
{% endblock %}