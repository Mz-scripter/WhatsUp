{% extends 'base.html' %}

{% block title %}Chat Room{% endblock %}

{% block content %}
    <h1>Chat Room: {{ chat_room }}</h1>
    <div class="messages">
        {% for message in messages %}
            <div class="message">
                <strong>{{ message.get_sender_display }}</strong>
                <p>{{ message.content }}</p>
                <small>{{ message.timestamp }}</small>
            </div>
        {% endfor %}
    </div>

    <form method="POST">
        {% csrf_token %}
        {{ form.content.label_tag }} {{ form.content }}
        {% if chat_room.is_group_chat %}
            <div>
                {{ form.is_anonymous }} {{ form.anonymous.label_tag }}
            </div>
        {% endif %}
        <button type="submit">Send</button>
    </form>
{% endblock %}